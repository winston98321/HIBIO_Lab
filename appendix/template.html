<!-- æ¨™é¡Œ -->
<h1 style="color:#193c47; background-color:#eef9fd; padding:8px;">
  ${(() => {
    const titleTranslation = topItem.getField("titleTranslation");
    if (titleTranslation) {
      return `(${topItem.getField("date")}) ${topItem.getField("title")} (${titleTranslation})`;
    } else {
      return `(${topItem.getField("date")}) ${topItem.getField("title")}`;
    }
  })()}
</h1>

<!-- Meta Data -->
<table>
  <!-- ä½œè€… -->
  <tr>
    <td style="color:#193c47; background-color:#dbeedd; padding:8px;">
      <b>ä½œè€…:</b> ${topItem.getCreators().map((v) => v.firstName + " " + v.lastName).join("; ")}
    </td>
  </tr>

  <!-- æœŸåˆŠ -->
  <tr>
    <td style="color:#193c47; background-color:#f3faf4; padding:8px;">
        <b style="color:#193c47;">æœŸåˆŠ: <b style="color:#FF0000">${topItem.getField('publicationTitle')}</b></b><b style="color:#193c47;"> ï¼ˆç™¼è¡¨æ—¥æœŸ: ${topItem.getField("date")}ï¼‰</b>
      </td>
  </tr>

  <!-- æœŸåˆŠåˆ†ç´š -->
  <tr>
    <td style="color:#193c47; background-color:#dbeedd; padding:8px;">
      <b>æœŸåˆŠåˆ†ç´š : </b>
      <!-- å¼•ç”¨äº†zotero styleæ’ä»¶çš„æ¨™ç±¤ï¼Œè«‹æå‰å®‰è£ï¼Œå¦å‰‡æ‰¾ä¸åˆ°åˆ†å€ -->
      ${(() => {let space = " ã…¤ã…¤ ã…¤ã…¤"
              return Array.prototype.map.call(Zotero.ZoteroStyle.data.ztoolkit.ItemTree.globalCache.renderCellHooks.PublicationTags(
          0,
          Zotero.ZoteroStyle.data.ztoolkit.ItemTree.fieldHooks.globalCache.getFieldHooks.PublicationTags(
          "", true, true,
          topItem, undefined)
          ).childNodes,
          e => {
          e.innerText = space + space + e.innerText + space + space;
          return e.outerHTML
          }).join(space)
          })()
          }
    </td>
  </tr>

  <!-- æœ¬åœ°é€£æ¥ -->
  <tr>
    <td style="color:#193c47; background-color:#f3faf4; padding:8px;">
      ${(() => {
        const attachments = Zotero.Items.get(topItem.getAttachments());
        if (attachments && attachments.length > 0) {
          return `<b>æœ¬åœ°é€£æ¥ : </b><a href="zotero://open-pdf/0_${attachments[0].key}">${attachments[0].getFilename()}</a>`;
        } else {
          return `<b>æœ¬åœ°é€£æ¥ : </b>`;
        }
      })()}
    </td>
  </tr>
  
  <!-- DOIæˆ–URL -->
  <tr>
    <td style="color:#193c47; background-color:#dbeedd; padding:8px;">
      ${(() => {
        const doi = topItem.getField("DOI");
        if (doi) {
          return `<b>DOI: </b><a href="https://doi.org/${topItem.getField('DOI')}">${topItem.getField('DOI')}</a>`;
        } else {
          return `<b>URL: </b><a href="${topItem.getField('url')}">${topItem.getField('url')}</a>`;
        }
      })()}
    </td>
  </tr>
  
  <!-- æ‘˜è¦ -->
  <tr>
    <td style="color:#193c47; background-color:#f3faf4; padding:8px;">
      ${(() => {
        const abstractTranslation = topItem.getField('abstractTranslation');
        if (abstractTranslation) {
          return `<b>æ‘˜è¦ç¿»è­¯: </b><i>${abstractTranslation}</i>`;
        } else {
          return `<b>æ‘˜è¦: </b><i>${topItem.getField('abstractNote')}</i>`;
        }
      })()}
    </td>
  </tr>

  <!-- ç­†è¨˜æ—¥æœŸ -->
  <tr>
    <td style="color:#4a90e2; background-color:#dbeedd; padding:8px;">
      <b>ç­†è¨˜æ—¥æœŸ : </b>${new Date().toLocaleString()}
    </td>
  </tr>

</table>

<!-- æ­£æ–‡ -->
<span>
  <h2 style="color:#fff; background-color:#ff8c00;">ğŸ“œ ç ”ç©¶æ ¸å¿ƒ</h2>
  <hr />
</span>
<blockquote style="color:#ffa500; background-color:#fff8e1; border-left: 4px solid #ff8c00; padding: 12px; margin: 10px 0; font-style: italic;">
ğŸ’­ <strong>æ€è€ƒæç¤ºï¼š</strong> Q: é€™ç¯‡è«–æ–‡åšäº†ä»€éº¼ï¼Œè§£æ±ºäº†ä»€éº¼å•é¡Œï¼Œå‰µæ–°é»èˆ‡ä¸è¶³ï¼Ÿä½ ç‚ºä»€éº¼æœƒçœ‹é€™ç¯‡è«–æ–‡ï¼Ÿ
</blockquote>

<h3 style="color:#ff4500;">âš™ï¸ å…§å®¹</h3>
<p></p>
<h3 style="color:#ff4500;">ğŸ“‹ é€™ç¯‡è«–æ–‡è§£æ±ºäº†ä»€éº¼(what)å•é¡Œï¼Ÿ</h3>
<p></p>
<h3 style="color:#ffa500;">ğŸŒŸ ç‚ºä»€éº¼(why)é€™å€‹å•é¡Œå¾ˆé‡è¦ï¼Ÿ</h3>
<p></p>
<h3 style="color:#ffa500;">ğŸ§  è«–æ–‡ä¸­ä½œè€…å€‘æ˜¯æ€æ¨£åˆ†æèˆ‡æ€è€ƒå•é¡Œ(how)ï¼Ÿ</h3>
<p></p>
<h3 style="color:#ffa500;">ğŸ§ æ‰€æå‡ºçš„è§£æ±ºæ–¹æ¡ˆèƒŒå¾Œçš„é‚è¼¯èˆ‡è²¢ç»æ˜¯ä»€éº¼(than)ï¼Ÿ</h3>
<p></p>
<h3 style="color:#2894FF;">ğŸ’¡ å‰µæ–°é»</h3>
<p></p>
<h3 style="color:#2894FF;">ğŸ§© ä¸è¶³</h3>
<p></p>

<span>
  <h2 style="color:#fff; background-color:#20b2aa;">ğŸ” ç ”ç©¶å…§å®¹</h2>
  <hr />
</span>
<p></p>
<h3 style="color:#40e0d0;">ğŸ’§ æ•¸æ“š</h3>
<p></p>
<h3 style="color:#40e0d0;">ğŸ‘©ğŸ»â€ğŸ’» æ–¹æ³•</h3>
<p></p>
<h3 style="color:#40e0d0;">ğŸ”¬ å¯¦é©—çµæœ</h3>
<p></p>
<h3 style="color:#40e0d0;">ğŸ“œ çµè«–</h3>
<p></p>

<span>
  <h2 style="color:#fff; background-color:#3cb371;">ğŸ¤” å€‹äººç¸½çµ</h2>
  <hr />
</span>
<blockquote style="color:#2e8b57; background-color:#f1f8e9; border-left: 4px solid #3cb371; padding: 12px; margin: 10px 0; font-style: italic;">
ğŸ’¡ <strong>ç¸½çµæç¤ºï¼š</strong> ä½ å°é‚£äº›å…§å®¹ç”¢ç”Ÿç–‘å•ï¼Œè¦å¦‚ä½•æ”¹é€²ï¼Ÿ
</blockquote>
<p></p>
<h3 style="color:#2e8b57;">ğŸ™‹â€â™€ï¸ é‡é»ç´€éŒ„</h3>
<p></p>
<h3 style="color:#2e8b57;">ğŸ“Œ å¾…è§£æ±º</h3>
<p></p>
<h3 style="color:#2e8b57;">ğŸ’­ å•Ÿç™¼æ€è€ƒ</h3>
<p></p>